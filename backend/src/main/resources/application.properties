spring.application.name=backend

# ==============================================================
# Database Configuration (รองรับ Cloud & Local)
# ==============================================================
# ถ้ามี Env Var ชื่อ SPRING_DATASOURCE_URL (บน Cloud) ให้ใช้ค่านั้น
# ถ้าไม่มี (รัน Local) ให้ใช้ jdbc:mysql://localhost... แทน
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:mysql://localhost:3306/devops_phase2?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Bangkok}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:root}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:Id_6687001}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# ==============================================================
# JPA & Hibernate
# ==============================================================
# บน Cloud ควรตั้ง Env Var 'SPRING_JPA_HIBERNATE_DDL_AUTO' เป็น 'update' 
# เพื่อให้มันสร้างตารางให้ (Default ในไฟล์นี้เป็น none เพื่อความปลอดภัย)
spring.jpa.hibernate.ddl-auto=${SPRING_JPA_HIBERNATE_DDL_AUTO:none}
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect

# ==============================================================
# Actuator
# ==============================================================
management.endpoints.web.exposure.include=health
management.endpoint.health.show-details=always
